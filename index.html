<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ULTRA CPS TEST</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    text-align:center;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
    overflow:hidden;
}

h1{margin-top:20px;}

.menu{margin:15px;}

button{
    padding:10px 18px;
    margin:5px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-size:14px;
    background:#00c6ff;
}

button:hover{background:#0099cc;}

#clickArea{
    width:280px;
    height:280px;
    background:#ff4757;
    margin:30px auto;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:28px;
    border-radius:50%;
    cursor:pointer;
    user-select:none;
    transition:0.1s;
    box-shadow:0 0 40px rgba(255,71,87,0.6);
}

#clickArea:active{transform:scale(0.9);}

.stats{font-size:18px;}

.combo{
    font-size:22px;
    color:#ffd32a;
}

.shake{
    animation:shake 0.1s;
}

@keyframes shake{
    0%{transform:translateX(-5px);}
    50%{transform:translateX(5px);}
    100%{transform:translateX(0);}
}

.trackingTarget{
    position:absolute;
    width:60px;
    height:60px;
    background:#00ffcc;
    border-radius:50%;
    cursor:pointer;
}
</style>
</head>

<body>

<h1>ULTRA CPS TEST ðŸ”¥</h1>

<div class="menu">
<button onclick="setMode(0)">Normal</button>
<button onclick="setMode(1)">1s</button>
<button onclick="setMode(5)">5s</button>
<button onclick="setMode(10)">10s</button>
<button onclick="startTracking()">Tracking</button>
</div>

<div id="clickArea">TIKLA!</div>

<div class="stats
    <p>TÄ±klama: <span id="clickCount">0</span></p>
    <p>SÃ¼re: <span id="timeLeft">0</span></p>
    <p>CPS: <span id="cps">0</span></p>
    <p>En YÃ¼ksek CPS: <span id="best">0</span></p>
    <p class="combo">Combo: <span id="combo">0</span></p>
</div>

<audio id="clickSound">
<source src="https://www.soundjay.com/buttons/sounds/button-16.mp3" type="audio/mpeg">
</audio>

<script>
let clickCount=0;
let timeLeft=0;
let timer=null;
let modeTime=0;
let gameActive=false;
let combo=0;
let bestScore=localStorage.getItem("bestCPS") || 0;

document.getElementById("best").textContent=bestScore;

const clickArea=document.getElementById("clickArea");
const clickSound=document.getElementById("clickSound");

function setMode(seconds){
resetGame();
modeTime=seconds;
timeLeft=seconds;
document.getElementById("timeLeft").textContent=seconds;
}

function startTimer(){
gameActive=true;
timer=setInterval(()=>{
timeLeft--;
document.getElementById("timeLeft").textContent=timeLeft;

let liveCPS=(clickCount/(modeTime-timeLeft)).toFixed(2);
if(timeLeft!==modeTime)
document.getElementById("cps").textContent=liveCPS;

if(timeLeft<=0){
clearInterval(timer);
gameActive=false;
finishGame();
}
},1000);
}

function finishGame(){
if(modeTime>0){
let cps=(clickCount/modeTime).toFixed(2);
document.getElementById("cps").textContent=cps;

if(Number(cps)>bestScore){
bestScore=cps;
localStorage.setItem("bestCPS",bestScore);
document.getElementById("best").textContent=bestScore;
}
}
}

function resetGame(){
clickCount=0;
combo=0;
clearInterval(timer);
gameActive=false;
document.getElementById("clickCount").textContent=0;
document.getElementById("cps").textContent=0;
document.getElementById("timeLeft").textContent=0;
document.getElementById("combo").textContent=0;
}

function randomColor(){
return "hsl(" + Math.random()*360 + ",100%,60%)";
}

function createExplosion(x,y){
for(let i=0;i<8;i++){
let particle=document.createElement("div");
particle.style.position="absolute";
particle.style.width="8px";
particle.style.height="8px";
particle.style.background=randomColor();
particle.style.borderRadius="50%";
particle.style.left=x+"px";
particle.style.top=y+"px";
document.body.appendChild(particle);

let angle=Math.random()*360;
let distance=50+Math.random()*50;

particle.animate([
{transform:"translate(0,0)",opacity:1},
{transform:`translate(${Math.cos(angle)*distance}px,${Math.sin(angle)*distance}px)`,opacity:0}
],{duration:400});

setTimeout(()=>particle.remove(),400);
}
}

clickArea.addEventListener("click",(e)=>{

clickSound.currentTime=0;
clickSound.play();

clickArea.style.background=randomColor();

createExplosion(e.clientX,e.clientY);

combo++;
document.getElementById("combo").textContent=combo;

if(combo>20){
clickArea.classList.add("shake");
setTimeout(()=>clickArea.classList.remove("shake"),100);
}

if(modeTime===0){
clickCount++;
document.getElementById("clickCount").textContent=clickCount;
document.getElementById("cps").textContent=clickCount;
return;
}

if(!gameActive && timeLeft===modeTime){
startTimer();
}

if(gameActive){
clickCount++;
document.getElementById("clickCount").textContent=clickCount;
}
});

function startTracking(){
resetGame();
modeTime=10;
timeLeft=10;
document.getElementById("timeLeft").textContent=10;
gameActive=true;

let spawn=setInterval(()=>{
if(timeLeft<=0){
clearInterval(spawn);
return;
}

let target=document.createElement("div");
target.className="trackingTarget";
target.style.left=Math.random()*(window.innerWidth-60)+"px";
target.style.top=Math.random()*(window.innerHeight-60)+"px";
document.body.appendChild(target);

target.onclick=()=>{
clickCount++;
document.getElementById("clickCount").textContent=clickCount;
target.remove();
};

setTimeout(()=>target.remove(),800);

},700);

startTimer();
}
</script>

</body>
</html>
