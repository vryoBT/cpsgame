<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CPS Test Oyunu</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    text-align:center;
    background:linear-gradient(135deg,#1e3c72,#2a5298);
    color:white;
}

h1{
    margin-top:20px;
}

.menu{
    margin:20px;
}

button{
    padding:10px 20px;
    margin:5px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-size:16px;
}

.mode-btn{
    background:#00c3ff;
}

.mode-btn:hover{
    background:#0099cc;
}

#clickArea{
    width:300px;
    height:300px;
    background:#ff4757;
    margin:30px auto;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:24px;
    border-radius:20px;
    cursor:pointer;
    user-select:none;
    transition:0.1s;
}

#clickArea:active{
    transform:scale(0.95);
}

.stats{
    font-size:20px;
}
</style>
</head>

<body>

<h1>CPS Test Oyunu</h1>

<div class="menu">
    <button class="mode-btn" onclick="setMode(0)">Normal</button>
    <button class="mode-btn" onclick="setMode(1)">1 Saniye</button>
    <button class="mode-btn" onclick="setMode(5)">5 Saniye</button>
    <button class="mode-btn" onclick="setMode(10)">10 Saniye</button>
</div>

<div id="clickArea">TIKLA!</div>

<div class="stats">
    <p>Tıklama: <span id="clickCount">0</span></p>
    <p>Süre: <span id="timeLeft">0</span></p>
    <p>CPS: <span id="cps">0</span></p>
    <p>En Yüksek CPS: <span id="best">0</span></p>
</div>

<script>
let clickCount = 0;
let timeLeft = 0;
let timer = null;
let modeTime = 0;
let bestScore = 0;

const clickArea = document.getElementById("clickArea");

function setMode(seconds){
    resetGame();
    modeTime = seconds;
    timeLeft = seconds;
    document.getElementById("timeLeft").textContent = seconds;
}

function startTimer(){
    timer = setInterval(()=>{
        timeLeft--;
        document.getElementById("timeLeft").textContent = timeLeft;

        if(timeLeft <= 0){
            clearInterval(timer);
            calculateCPS();
        }
    },1000);
}

function calculateCPS(){
    let cps = (clickCount / modeTime).toFixed(2);
    document.getElementById("cps").textContent = cps;

    if(cps > bestScore){
        bestScore = cps;
        document.getElementById("best").textContent = bestScore;
    }
}

function resetGame(){
    clickCount = 0;
    clearInterval(timer);
    document.getElementById("clickCount").textContent = 0;
    document.getElementById("cps").textContent = 0;
    document.getElementById("timeLeft").textContent = 0;
}

clickArea.addEventListener("click", ()=>{
    if(modeTime === 0){
        clickCount++;
        document.getElementById("clickCount").textContent = clickCount;
        document.getElementById("cps").textContent = clickCount;
        return;
    }

    if(timeLeft === modeTime){
        startTimer();
    }

    if(timeLeft > 0){
        clickCount++;
        document.getElementById("clickCount").textContent = clickCount;
    }
});
</script>

</body>
</html>
