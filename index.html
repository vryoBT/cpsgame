<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CPS Test Oyunu</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    text-align:center;
    background:linear-gradient(135deg,#141e30,#243b55);
    color:white;
}

h1{
    margin-top:20px;
}

.menu{
    margin:20px;
}

button{
    padding:10px 20px;
    margin:5px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    font-size:16px;
    background:#00c6ff;
    transition:0.2s;
}

button:hover{
    background:#0099cc;
    transform:scale(1.05);
}

#clickArea{
    width:300px;
    height:300px;
    background:#ff4757;
    margin:40px auto;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:28px;
    border-radius:50%;
    cursor:pointer;
    user-select:none;
    transition:0.1s;
    box-shadow:0 0 40px rgba(255,71,87,0.6);
}

#clickArea:active{
    transform:scale(0.9);
}

.stats{
    font-size:20px;
}
</style>
</head>

<body>

<h1>CPS Test Oyunu</h1>

<div class="menu">
    <button onclick="setMode(0)">Normal</button>
    <button onclick="setMode(1)">1 Saniye</button>
    <button onclick="setMode(5)">5 Saniye</button>
    <button onclick="setMode(10)">10 Saniye</button>
</div>

<div id="clickArea">TIKLA!</div>

<div class="stats">
    <p>Tıklama: <span id="clickCount">0</span></p>
    <p>Süre: <span id="timeLeft">0</span></p>
    <p>CPS: <span id="cps">0</span></p>
    <p>En Yüksek CPS: <span id="best">0</span></p>
</div>

<script>
let clickCount = 0;
let timeLeft = 0;
let timer = null;
let modeTime = 0;
let bestScore = 0;
let gameActive = false;

const clickArea = document.getElementById("clickArea");

function setMode(seconds){
    resetGame();
    modeTime = seconds;
    timeLeft = seconds;
    document.getElementById("timeLeft").textContent = seconds;
}

function startTimer(){
    gameActive = true;
    timer = setInterval(()=>{
        timeLeft--;
        document.getElementById("timeLeft").textContent = timeLeft;

        if(timeLeft <= 0){
            clearInterval(timer);
            gameActive = false;
            finishGame();
        }
    },1000);
}

function finishGame(){
    if(modeTime > 0){
        let cps = (clickCount / modeTime).toFixed(2);
        document.getElementById("cps").textContent = cps;

        if(Number(cps) > bestScore){
            bestScore = cps;
            document.getElementById("best").textContent = bestScore;
        }
    }
}

function resetGame(){
    clickCount = 0;
    clearInterval(timer);
    gameActive = false;
    document.getElementById("clickCount").textContent = 0;
    document.getElementById("cps").textContent = 0;
    document.getElementById("timeLeft").textContent = 0;
}

clickArea.addEventListener("click", ()=>{
    if(modeTime === 0){
        clickCount++;
        document.getElementById("clickCount").textContent = clickCount;
        document.getElementById("cps").textContent = clickCount;
        return;
    }

    if(!gameActive && timeLeft === modeTime){
        startTimer();
    }

    if(gameActive){
        clickCount++;
        document.getElementById("clickCount").textContent = clickCount;
    }
});
</script>

</body>
</html>
